<h2>ジャンル一覧・追加</h2><br/>

<div>
  <!--model:@genreではエラーが出る（resourcesで生成されたパスはgenres_pathであるのに対し、実際はnamespaceを使っているのでadmin_genres_pathを追記する必要があった）-->
  <!--このように、モデルもurlも両方記述しないといけないものもある-->
  <%= form_with model:@genre, url: admin_genres_path, method: :post, local: true do |f| %>

  <%= f.label :ジャンル %>
  <%= f.text_field :name, autofocus: true, autocomplete: "ジャンル名" %>

  <%= f.submit "追加" %>
  <% end %>
</div>

<table>
  <thead>
    <tr>
      <th>ジャンル</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <% @genres.each do |genre| %>
    <tr>
      <td><%= genre.name %></td>
      <td><%= link_to "編集", edit_admin_genre_path(genre) %></td>
    </tr>
    <% end %>
  </tbody>
</table>